import{a as L}from"./chunk-6KNQYTPJ.js";import"./chunk-OTAXIUU4.js";import{o as A,p as F,r as J}from"./chunk-UTMHNS76.js";import"./chunk-WXI33M2S.js";import{C as R}from"./chunk-QAB7D26V.js";import{a as T,b as B,g as z,h as N,i as M}from"./chunk-JZGRMYVI.js";import{Ac as D,Gb as a,Gc as j,Hb as P,Ib as C,La as k,Oa as s,Pa as u,ba as y,ca as p,cb as v,ga as w,gb as c,la as S,lb as n,ma as f,mb as o,nb as x,ob as O,pb as E,ub as m,wb as g,zc as I}from"./chunk-YTVPJGYC.js";var d=class r{constructor(t){this.http=t}apiUrl="https://deckofcardsapi.com/api/deck";ObtenerUnNuevoMazo(){return this.http.get(`${this.apiUrl}/new/shuffle`)}ObtenerCartas(t,e){return this.http.get(`${this.apiUrl}/${t}/draw/?count=${e}`)}static \u0275fac=function(e){return new(e||r)(w(T))};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})};function U(r,t){if(r&1&&(n(0,"div",18),a(1),o()),r&2){let e=g();s(),P(e.usuarioLogeado)}}function Y(r,t){if(r&1&&(O(0),x(1,"img",20),E()),r&2){let e=g().$implicit;s(),c("src",e.image,k)}}function $(r,t){if(r&1&&(n(0,"div"),v(1,Y,2,1,"ng-container",19),o()),r&2){let e=t.index,i=g();s(),c("ngIf",e===0||e===1&&i.mostrarSegundaCarta)}}var b=class r{constructor(t,e,i,l,Q){this.servicio=t;this.router=e;this.snackBar=i;this.fireAuthService=l;this.fireDatabaseService=Q}idMazo="";cartas=[];valorDeCartas=[];intentos=10;puntos=0;desabilitarBotones=!1;mostrarSegundaCarta=!1;mostrarTooltip=!1;blockearRejugar=!0;usuarioLogeado="";ngOnInit(){this.servicio.ObtenerUnNuevoMazo().subscribe(t=>{this.idMazo=t.deck_id,this.SacarCartas()}),this.fireAuthService.getUserEmail().subscribe(t=>{this.usuarioLogeado=t})}SacarCartas(){this.servicio.ObtenerCartas(this.idMazo,2).subscribe(t=>{this.cartas=t.cards})}EsMayor(){this.valorDeCartas=[],this.desabilitarBotones=!0,this.cartas.forEach(e=>{this.valorDeCartas.push(e.value)}),this.convertirValorCarta(this.valorDeCartas[1])>=this.convertirValorCarta(this.valorDeCartas[0])?(this.puntos++,this.intentos--,this.mostrarSegundaCarta=!0):(this.mostrarSegundaCarta=!0,this.intentos--);let t=this.cartas[0];this.cartas[0]=this.cartas[1],this.cartas[1]=t,this.EstadoDelJuego(),setTimeout(()=>{this.intentos>0?(this.mostrarSegundaCarta=!1,this.SacarNuevaCarta(),this.desabilitarBotones=!1):this.desabilitarBotones=!0},3e3)}EsMenor(){this.valorDeCartas=[],this.desabilitarBotones=!0,this.cartas.forEach(e=>{this.valorDeCartas.push(e.value)}),this.convertirValorCarta(this.valorDeCartas[1])<=this.convertirValorCarta(this.valorDeCartas[0])?(this.puntos++,this.intentos--,this.mostrarSegundaCarta=!0):(this.mostrarSegundaCarta=!0,this.intentos--);let t=this.cartas[0];this.cartas[0]=this.cartas[1],this.cartas[1]=t,this.EstadoDelJuego(),setTimeout(()=>{this.intentos>=0?(this.mostrarSegundaCarta=!1,this.SacarNuevaCarta(),this.desabilitarBotones=!1):this.desabilitarBotones=!0},3e3)}convertirValorCarta(t){return t==="ACE"?14:t==="KING"?13:t==="QUEEN"?12:t==="JACK"?11:parseInt(t)}SacarNuevaCarta(){this.servicio.ObtenerCartas(this.idMazo,1).subscribe(t=>{this.cartas[1]=t.cards[0]})}EstadoDelJuego(){this.intentos==0&&(this.blockearRejugar=!1,this.AbrirSnackBar(`Obtuviste ${this.puntos} Puntos`),this.fireDatabaseService.CargarPosicion(this.usuarioLogeado,"mayor-menor",this.puntos))}Volver(){this.RuteoHome()}RuteoHome(){this.router.navigate(["/Home"])}AbrirSnackBar(t){this.snackBar.open(t,"Cerrar",{duration:4e3})}mostrarTexto(){this.mostrarTooltip=!0}ocultarTexto(){this.mostrarTooltip=!1}CerrarSession(){this.fireAuthService.logout(),this.RuteoHome(),this.AbrirSnackBar("Se a cerrado la sesion")}JugarDeNuevo(){this.intentos=10,this.puntos=0,this.desabilitarBotones=!1,this.blockearRejugar=!0}static \u0275fac=function(e){return new(e||r)(u(d),u(z),u(J),u(R),u(L))};static \u0275cmp=S({type:r,selectors:[["app-mayor-menor"]],decls:31,vars:7,consts:[[1,"button-grid"],["mat-raised-button","",3,"click"],["mat-raised-button","","routerLink","/Resultados/mayor-menor"],["mat-raised-button","","routerLink","/Chat"],["mat-raised-button","","routerLink","/QuienSoy"],["mat-raised-button","","color","warn",3,"click"],[1,"material-icons",3,"mouseover","mouseleave"],["class","tooltip",4,"ngIf"],[1,"container"],[1,"titulo"],[1,"cards"],[4,"ngFor","ngForOf"],[1,"botones"],["mat-raised-button","","color","accent",3,"click","disabled"],[1,"estadoDeJuego"],[1,"texto","puntos"],[1,"texto","vidas"],["mat-raised-button","","color","primary",1,"rejugar",3,"click","disabled"],[1,"tooltip"],[4,"ngIf"],["alt","Card",1,"imagenCarta",3,"src"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"button",1),m("click",function(){return i.Volver()}),a(2,"Volver"),o(),n(3,"button",2),a(4,"Posiciones"),o(),n(5,"button",3),a(6,"Chat"),o(),n(7,"button",4),a(8,"Sobre M\xED"),o(),n(9,"button",5),m("click",function(){return i.CerrarSession()}),a(10,"Cerrar Sesi\xF3n"),o(),n(11,"i",6),m("mouseover",function(){return i.mostrarTexto()})("mouseleave",function(){return i.ocultarTexto()}),a(12,"account_circle"),o(),v(13,U,2,1,"div",7),o(),n(14,"div",8)(15,"h1",9),a(16,"La Siguiente Carta es Mayor o Menor?"),o(),n(17,"div",10),v(18,$,2,1,"div",11),o(),n(19,"div",12)(20,"button",13),m("click",function(){return i.EsMayor()}),a(21,"Es Mayor"),o(),n(22,"button",13),m("click",function(){return i.EsMenor()}),a(23,"Es Menor"),o()(),n(24,"div",14)(25,"p",15),a(26),o(),n(27,"p",16),a(28),o()(),n(29,"button",17),m("click",function(){return i.JugarDeNuevo()}),a(30,"Volver a Jugar"),o()()),e&2&&(s(13),c("ngIf",i.mostrarTooltip),s(5),c("ngForOf",i.cartas),s(2),c("disabled",i.desabilitarBotones),s(2),c("disabled",i.desabilitarBotones),s(4),C("Puntos: ",i.puntos,""),s(2),C("Intentos: ",i.intentos,""),s(),c("disabled",i.blockearRejugar))},dependencies:[I,D,N,A],styles:[".button-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;background-color:#ffffff80;padding:.1vw;display:flex;justify-content:flex-end}.button-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5vw;padding:1vw 2vw;font-size:1vw;margin-top:.5vw;margin-bottom:.5vw}.content[_ngcontent-%COMP%]{padding-top:50px}.material-icons[_ngcontent-%COMP%]{margin-left:1vw;margin-top:.4vw;font-size:2.5vw}.tooltip[_ngcontent-%COMP%]{position:absolute;background-color:#fff;color:#000;padding:5px;border-radius:3px;z-index:9999;margin-top:3vw;font-size:1vw}.container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#ffffff80;padding:1vw;border-radius:1vw;text-align:center}.cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.imagenCarta[_ngcontent-%COMP%]{width:13vw;height:auto;-webkit-animation:_ngcontent-%COMP%_flip-vertical-right 1s cubic-bezier(.455,.03,.515,.955) reverse both;animation:_ngcontent-%COMP%_flip-vertical-right 1s cubic-bezier(.455,.03,.515,.955) reverse both}.cards[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:1vw;margin-left:1vw;margin-top:1vw}.botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1vw 1.5vw;padding:1vw 2vw;font-size:2vw}.titulo[_ngcontent-%COMP%]{font-size:2.5vw}.puntos[_ngcontent-%COMP%]{color:#fff;background-color:#0000ff80;border-radius:2vw;padding:.5vw 1vw;font-size:1vw;text-align:left}.estadoDelJuego[_ngcontent-%COMP%]{width:100vw}.vidas[_ngcontent-%COMP%]{color:#fff;background-color:#ff000080;border-radius:2vw;padding:.5vw 1vw;font-size:1vw;text-align:left}.rejugar[_ngcontent-%COMP%]{display:block;padding:1vw 2vw;font-size:2vw;border:none;border-radius:5vw;cursor:pointer;text-align:center;line-height:0;margin-top:1vw}@-webkit-keyframes _ngcontent-%COMP%_flip-vertical-right{0%{-webkit-transform:rotateY(0);transform:rotateY(0)}to{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}}@keyframes _ngcontent-%COMP%_flip-vertical-right{0%{-webkit-transform:rotateY(0);transform:rotateY(0)}to{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}}"]})};var K=[{path:"",component:b}],h=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=f({type:r});static \u0275inj=p({imports:[M.forChild(K),M]})};var V=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=f({type:r});static \u0275inj=p({providers:[d],imports:[j,h,B,F]})};export{V as MayorMenorModule};
