import{a as A,l as R,m as F,n as J}from"./chunk-EPGJXKQY.js";import"./chunk-WXI33M2S.js";import"./chunk-WSSWXG6I.js";import{a as T,b as B,g as D,h as N,i as x}from"./chunk-W2GDRTPK.js";import{Ec as j,Gb as a,Hb as z,Ib as M,La as P,Oa as s,Pa as d,ba as v,ca as u,cb as g,ga as y,gb as c,la as O,lb as i,ma as f,mb as r,nb as S,ob as k,pb as E,ub as l,wb as C,xc as I,yc as w}from"./chunk-NLIUBASE.js";var m=class n{constructor(t){this.http=t}apiUrl="https://deckofcardsapi.com/api/deck";ObtenerUnNuevoMazo(){return this.http.get(`${this.apiUrl}/new/shuffle`)}ObtenerCartas(t,e){return this.http.get(`${this.apiUrl}/${t}/draw/?count=${e}`)}static \u0275fac=function(e){return new(e||n)(y(T))};static \u0275prov=v({token:n,factory:n.\u0275fac,providedIn:"root"})};function U(n,t){if(n&1&&(i(0,"div",17),a(1),r()),n&2){let e=C();s(),z(e.usuarioLogeado)}}function Y(n,t){if(n&1&&(k(0),S(1,"img",19),E()),n&2){let e=C().$implicit;s(),c("src",e.image,P)}}function L(n,t){if(n&1&&(i(0,"div"),g(1,Y,2,1,"ng-container",18),r()),n&2){let e=t.index,o=C();s(),c("ngIf",e===0||e===1&&o.mostrarSegundaCarta)}}var h=class n{constructor(t,e,o,p){this.servicio=t;this.router=e;this.snackBar=o;this.fireAuthService=p}idMazo="";cartas=[];valorDeCartas=[];intentos=10;puntos=0;desabilitarBotones=!1;mostrarSegundaCarta=!1;mostrarTooltip=!1;blockearRejugar=!0;usuarioLogeado="";ngOnInit(){this.servicio.ObtenerUnNuevoMazo().subscribe(t=>{this.idMazo=t.deck_id,this.SacarCartas()}),this.fireAuthService.getUserEmail().subscribe(t=>{this.usuarioLogeado=t})}SacarCartas(){this.servicio.ObtenerCartas(this.idMazo,2).subscribe(t=>{this.cartas=t.cards})}EsMayor(){this.valorDeCartas=[],this.desabilitarBotones=!0,this.cartas.forEach(e=>{this.valorDeCartas.push(e.value)}),this.convertirValorCarta(this.valorDeCartas[1])>=this.convertirValorCarta(this.valorDeCartas[0])?(this.puntos++,this.intentos--,this.mostrarSegundaCarta=!0):(this.mostrarSegundaCarta=!0,this.intentos--);let t=this.cartas[0];this.cartas[0]=this.cartas[1],this.cartas[1]=t,this.EstadoDelJuego(),setTimeout(()=>{this.intentos>0?(this.mostrarSegundaCarta=!1,this.SacarNuevaCarta(),this.desabilitarBotones=!1):this.desabilitarBotones=!0},2e3)}EsMenor(){this.valorDeCartas=[],this.desabilitarBotones=!0,this.cartas.forEach(e=>{this.valorDeCartas.push(e.value)}),this.convertirValorCarta(this.valorDeCartas[1])<=this.convertirValorCarta(this.valorDeCartas[0])?(this.puntos++,this.intentos--,this.mostrarSegundaCarta=!0):(this.mostrarSegundaCarta=!0,this.intentos--);let t=this.cartas[0];this.cartas[0]=this.cartas[1],this.cartas[1]=t,this.EstadoDelJuego(),setTimeout(()=>{this.intentos>=0?(this.mostrarSegundaCarta=!1,this.SacarNuevaCarta(),this.desabilitarBotones=!1):this.desabilitarBotones=!0},2e3)}convertirValorCarta(t){return t==="ACE"?14:t==="KING"?13:t==="QUEEN"?12:t==="JACK"?11:parseInt(t)}SacarNuevaCarta(){this.servicio.ObtenerCartas(this.idMazo,1).subscribe(t=>{this.cartas[1]=t.cards[0]})}EstadoDelJuego(){this.intentos==0&&(this.blockearRejugar=!1,this.AbrirSnackBar(`Obtuviste ${this.puntos} Puntos`))}Volver(){this.RuteoHome()}RuteoHome(){this.router.navigate(["/Home"])}AbrirSnackBar(t){this.snackBar.open(t,"Cerrar",{duration:4e3})}mostrarTexto(){this.mostrarTooltip=!0}ocultarTexto(){this.mostrarTooltip=!1}CerrarSession(){this.fireAuthService.logout(),this.RuteoHome(),this.AbrirSnackBar("Se a cerrado la sesion")}JugarDeNuevo(){this.intentos=10,this.puntos=0,this.desabilitarBotones=!1,this.blockearRejugar=!0}static \u0275fac=function(e){return new(e||n)(d(m),d(D),d(J),d(A))};static \u0275cmp=O({type:n,selectors:[["app-mayor-menor"]],decls:29,vars:7,consts:[[1,"button-grid"],["mat-raised-button","",3,"click"],["mat-raised-button","","routerLink","/Chat"],["mat-raised-button","","routerLink","/QuienSoy"],["mat-raised-button","","color","warn",3,"click"],[1,"material-icons",3,"mouseover","mouseleave"],["class","tooltip",4,"ngIf"],[1,"container"],[1,"titulo"],[1,"cards"],[4,"ngFor","ngForOf"],[1,"botones"],["mat-raised-button","","color","accent",3,"click","disabled"],[1,"estadoDeJuego"],[1,"texto","puntos"],[1,"texto","vidas"],["mat-raised-button","","color","primary",1,"rejugar",3,"click","disabled"],[1,"tooltip"],[4,"ngIf"],["alt","Card",1,"imagenCarta",3,"src"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"button",1),l("click",function(){return o.Volver()}),a(2,"Volver"),r(),i(3,"button",2),a(4,"Chat"),r(),i(5,"button",3),a(6,"Sobre M\xED"),r(),i(7,"button",4),l("click",function(){return o.CerrarSession()}),a(8,"Cerrar Sesi\xF3n"),r(),i(9,"i",5),l("mouseover",function(){return o.mostrarTexto()})("mouseleave",function(){return o.ocultarTexto()}),a(10,"account_circle"),r(),g(11,U,2,1,"div",6),r(),i(12,"div",7)(13,"h1",8),a(14,"La Siguiente Carta es Mayor o Menor?"),r(),i(15,"div",9),g(16,L,2,1,"div",10),r(),i(17,"div",11)(18,"button",12),l("click",function(){return o.EsMayor()}),a(19,"Es Mayor"),r(),i(20,"button",12),l("click",function(){return o.EsMenor()}),a(21,"Es Menor"),r()(),i(22,"div",13)(23,"p",14),a(24),r(),i(25,"p",15),a(26),r()(),i(27,"button",16),l("click",function(){return o.JugarDeNuevo()}),a(28,"Volver a Jugar"),r()()),e&2&&(s(11),c("ngIf",o.mostrarTooltip),s(5),c("ngForOf",o.cartas),s(2),c("disabled",o.desabilitarBotones),s(2),c("disabled",o.desabilitarBotones),s(4),M("Puntos: ",o.puntos,""),s(2),M("Intentos: ",o.intentos,""),s(),c("disabled",o.blockearRejugar))},dependencies:[I,w,N,R],styles:[".button-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;background-color:#ffffff80;padding:10px;display:flex;justify-content:flex-end}.button-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;margin-bottom:10px;padding:20px 30px;font-size:20px}.container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#ffffff80;padding:10px;border-radius:10px;text-align:center}.content[_ngcontent-%COMP%]{padding-top:50px}.material-icons[_ngcontent-%COMP%]{margin-left:10px;margin-top:2px;font-size:40px}.cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.imagenCarta[_ngcontent-%COMP%]{width:250px;height:auto;-webkit-animation:_ngcontent-%COMP%_flip-vertical-right 1s cubic-bezier(.455,.03,.515,.955) reverse both;animation:_ngcontent-%COMP%_flip-vertical-right 1s cubic-bezier(.455,.03,.515,.955) reverse both}.cards[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px;margin-left:10px;margin-top:10px}.botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px 70px;padding:20px 30px;font-size:20px}.texto[_ngcontent-%COMP%]{background-color:#00000080;color:#fff;padding:10px;border-radius:5px}.puntos[_ngcontent-%COMP%]{color:#fff;background-color:#0000ff80;border-radius:20px;padding:10px 20px;font-size:18px;text-align:left}.estadoDelJuego[_ngcontent-%COMP%]{width:100%}.vidas[_ngcontent-%COMP%]{color:#fff;background-color:#ff000080;border-radius:20px;padding:10px 20px;font-size:18px;text-align:left}.tooltip[_ngcontent-%COMP%]{position:absolute;background-color:#fff;color:#000;padding:5px;border-radius:3px;z-index:9999;margin-top:60px;font-size:20px}.rejugar[_ngcontent-%COMP%]{display:block;padding:20px 30px;font-size:20px;border:none;border-radius:5px;cursor:pointer;text-align:center;line-height:0}@-webkit-keyframes _ngcontent-%COMP%_flip-vertical-right{0%{-webkit-transform:rotateY(0);transform:rotateY(0)}to{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}}@keyframes _ngcontent-%COMP%_flip-vertical-right{0%{-webkit-transform:rotateY(0);transform:rotateY(0)}to{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}}@media (max-width: 1366px){.button-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px}.material-icons[_ngcontent-%COMP%], .titulo[_ngcontent-%COMP%]{font-size:40px}.material-icons[_ngcontent-%COMP%]{font-size:35px}.imagenCarta[_ngcontent-%COMP%]{width:220px}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:50px;margin-left:50px;padding:15px 25px;font-size:18px}.container[_ngcontent-%COMP%]{width:1200px;margin-top:20px}.puntos[_ngcontent-%COMP%], .vidas[_ngcontent-%COMP%]{padding:8px 15px;font-size:16px}.rejugar[_ngcontent-%COMP%]{padding:15px 25px;font-size:18px}}@media (max-width: 1024px){.button-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px}.container[_ngcontent-%COMP%]{width:900px}.titulo[_ngcontent-%COMP%]{font-size:40px}.material-icons[_ngcontent-%COMP%]{font-size:35px}.tooltip[_ngcontent-%COMP%]{font-size:14px}.imagenCarta[_ngcontent-%COMP%]{width:180px}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:30px;margin-left:30px;padding:10px 15px;font-size:16px}.puntos[_ngcontent-%COMP%], .vidas[_ngcontent-%COMP%]{padding:6px 10px;font-size:14px}.rejugar[_ngcontent-%COMP%]{padding:10px 15px;font-size:16px}}"]})};var $=[{path:"",component:h}],b=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=f({type:n});static \u0275inj=u({imports:[x.forChild($),x]})};var V=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=f({type:n});static \u0275inj=u({providers:[m],imports:[j,b,B,F]})};export{V as MayorMenorModule};
