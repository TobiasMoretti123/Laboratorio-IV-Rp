import{$ as Ge,Aa as tn,Ma as Ye,Na as nn,Pa as rn,Qa as sn,R as Gt,S as Wt,T as qt,U as N,V as Yt,Va as Ze,X as se,Ya as Ke,Z as $,_ as oe,a as ze,b as je,c as br,ca as Zt,da as Kt,e as b,ea as Xt,fa as Jt,h as He,la as We,m as Ht,n as Vt,na as Qt,oa as ae,q as Ee,r as Ve,ta as qe,xa as we,ya as en}from"./chunk-7RZXD6ZD.js";var dn=null;function Xe(){return dn}function na(t){dn??=t}var on=class{};var hn=new se(""),fn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>oe(Cr),providedIn:"platform"});let t=e;return t})();var Cr=(()=>{let e=class e extends fn{constructor(){super(),this._doc=oe(hn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xe().getBaseHref(this._doc)}onPopState(r){let i=Xe().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Xe().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function pn(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function an(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function H(t){return t&&t[0]!=="?"?"?"+t:t}var tt=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>oe(Sr),providedIn:"root"});let t=e;return t})(),Ar=new se(""),Sr=(()=>{let e=class e extends tt{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??oe(hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return pn(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+H(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let u=this.prepareExternalUrl(s+H(o));this._platformLocation.pushState(r,i,u)}replaceState(r,i,s,o){let u=this.prepareExternalUrl(s+H(o));this._platformLocation.replaceState(r,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)($(fn),$(Ar,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fr=(()=>{let e=class e{constructor(r){this._subject=new Qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Rr(an(un(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+H(i))}normalize(r){return e.stripTrailingSlash(Ir(this._basePath,un(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+H(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+H(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=H,e.joinWithSlash=pn,e.stripTrailingSlash=an,e.\u0275fac=function(i){return new(i||e)($(tt))},e.\u0275prov=N({token:e,factory:()=>vr(),providedIn:"root"});let t=e;return t})();function vr(){return new Fr($(tt))}function Ir(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function un(t){return t.replace(/\/index.html$/,"")}function Rr(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ra(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ia=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Je,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){cn("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){cn("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(we(tn),we(en))},e.\u0275dir=Kt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Je=class{constructor(){this.$implicit=null,this.ngIf=null}};function cn(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${qt(e)}'.`)}function Tr(t,e){return new Wt(2100,!1)}var Qe=class{createSubscription(e,n){return Ke(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Ke(()=>e.unsubscribe())}},et=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},Or=new et,Mr=new Qe,sa=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(rn(r))return Or;if(sn(r))return Mr;throw Tr(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(we(Ze,16))},e.\u0275pipe=Xt({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var oa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Zt({type:e}),e.\u0275inj=Yt({});let t=e;return t})(),aa="browser",Br="server";function ua(t){return t===Br}var ln=class{};var Yi={};br(Yi,{FirebaseError:()=>R,SDK_VERSION:()=>wt,_DEFAULT_ENTRY_NAME:()=>de,_addComponent:()=>_t,_addOrOverwriteComponent:()=>Pi,_apps:()=>z,_clearComponents:()=>Ui,_components:()=>Z,_getProvider:()=>Re,_isFirebaseApp:()=>Nn,_isFirebaseServerApp:()=>xi,_registerComponent:()=>K,_removeServiceInstance:()=>Ni,_serverApps:()=>Y,deleteApp:()=>Ct,getApp:()=>fe,getApps:()=>pe,initializeApp:()=>Te,initializeServerApp:()=>xn,onLog:()=>Un,registerVersion:()=>C,setLogLevel:()=>$n});var mn=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kr=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],u=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Dn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,u=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,l=s>>2,d=(s&3)<<4|u>>4,f=(u&15)<<2|c>>6,g=c&63;a||(g=64,o||(f=64)),r.push(n[l],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mn(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kr(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||c==null||d==null)throw new rt;let f=s<<2|u>>4;if(r.push(f),c!==64){let g=u<<4&240|c>>2;if(r.push(g),d!==64){let D=c<<6&192|d;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},rt=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Lr=function(t){let e=mn(t);return Dn.encodeByteArray(e,!0)},ue=function(t){return Lr(t).replace(/\./g,"")},Pr=function(t){try{return Dn.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Nr(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!xr(n)||(t[n]=Nr(t[n],e[n]));return t}function xr(t){return t!=="__proto__"}function Ur(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $r=()=>Ur().__FIREBASE_DEFAULTS__,zr=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jr=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Pr(t[1]);return e&&JSON.parse(e)},st=()=>{try{return $r()||zr()||jr()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hr=t=>{var e,n;return(n=(e=st())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_n=t=>{let e=Hr(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ot=()=>{var t;return(t=st())===null||t===void 0?void 0:t.config},da=t=>{var e;return(e=st())===null||e===void 0?void 0:e[`_${t}`]};var Ce=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function bn(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ue(JSON.stringify(n)),ue(JSON.stringify(o)),""].join(".")}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ha(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function En(){return typeof window<"u"||at()}function at(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function fa(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pa(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ga(){let t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wn(){try{return typeof indexedDB=="object"}catch{return!1}}function Cn(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Vr="FirebaseError",R=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Vr,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}},ce=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Gr(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new R(i,u,r)}};function Gr(t,e){return t.replace(Wr,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Wr=/\{\$([^}]+)}/g;function ma(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Da(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ae(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(gn(s)&&gn(o)){if(!Ae(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function gn(t){return t!==null&&typeof t=="object"}function _a(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ba(t,e){let n=new it(t,e);return n.subscribe.bind(n)}var it=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qr(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nt),i.error===void 0&&(i.error=nt),i.complete===void 0&&(i.complete=nt);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function qr(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nt(){}var ya=4*60*60*1e3;function T(t){return t&&t._delegate?t._delegate:t}var x=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var V="[DEFAULT]";var ut=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ce;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zr(e))try{this.getOrInitializeService({instanceIdentifier:V})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=V){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=V){return this.instances.has(e)}getOptions(e=V){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yr(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=V){return this.component?this.component.multipleInstances?e:V:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Yr(t){return t===V?void 0:t}function Zr(t){return t.instantiationMode==="EAGER"}var le=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ut(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ct=[],h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(h||{}),An={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},Kr=h.INFO,Xr={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},Jr=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Xr[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Se=class{constructor(e){this.name=e,this._logLevel=Kr,this._logHandler=Jr,this._userLogHandler=null,ct.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in h))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?An[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...e),this._logHandler(this,h.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...e),this._logHandler(this,h.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,h.INFO,...e),this._logHandler(this,h.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,h.WARN,...e),this._logHandler(this,h.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...e),this._logHandler(this,h.ERROR,...e)}};function Sn(t){ct.forEach(e=>{e.setLogLevel(t)})}function Fn(t,e){for(let n of ct){let r=null;e&&e.level&&(r=An[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{let u=o.map(a=>{if(a==null)return null;if(typeof a=="string")return a;if(typeof a=="number"||typeof a=="boolean")return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch{return null}}).filter(a=>a).join(" ");s>=(r??i.logLevel)&&t({level:h[s].toLowerCase(),message:u,args:o,type:i.name})}}}var Qr=(t,e)=>e.some(n=>t instanceof n),vn,In;function ei(){return vn||(vn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ti(){return In||(In=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Rn=new WeakMap,dt=new WeakMap,Tn=new WeakMap,lt=new WeakMap,ft=new WeakMap;function ni(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(O(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Rn.set(n,t)}).catch(()=>{}),ft.set(e,t),e}function ri(t){if(dt.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dt.set(t,e)}var ht={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dt.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Tn.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return O(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function On(t){ht=t(ht)}function ii(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Fe(this),e,...n);return Tn.set(r,e.sort?e.sort():[e]),O(r)}:ti().includes(t)?function(...e){return t.apply(Fe(this),e),O(Rn.get(this))}:function(...e){return O(t.apply(Fe(this),e))}}function si(t){return typeof t=="function"?ii(t):(t instanceof IDBTransaction&&ri(t),Qr(t,ei())?new Proxy(t,ht):t)}function O(t){if(t instanceof IDBRequest)return ni(t);if(lt.has(t))return lt.get(t);let e=si(t);return e!==t&&(lt.set(t,e),ft.set(e,t)),e}var Fe=t=>ft.get(t);function Bn(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),u=O(o);return r&&o.addEventListener("upgradeneeded",a=>{r(O(o.result),a.oldVersion,a.newVersion,O(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),u.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),u}var oi=["get","getKey","getAll","getAllKeys","count"],ai=["put","add","delete","clear"],pt=new Map;function Mn(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pt.get(e))return pt.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ai.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oi.includes(n)))return;let s=function(o,...u){return b(this,null,function*(){let a=this.transaction(o,i?"readwrite":"readonly"),c=a.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[n](...u),i&&a.done]))[0]})};return pt.set(e,s),s}On(t=>je(ze({},t),{get:(e,n,r)=>Mn(e,n)||t.get(e,n,r),has:(e,n)=>!!Mn(e,n)||t.has(e,n)}));var mt=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ui(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function ui(t){let e=t.getComponent();return e?.type==="VERSION"}var ve="@firebase/app",Dt="0.10.10";var U=new Se("@firebase/app"),ci="@firebase/app-compat",li="@firebase/analytics-compat",di="@firebase/analytics",hi="@firebase/app-check-compat",fi="@firebase/app-check",pi="@firebase/auth",gi="@firebase/auth-compat",mi="@firebase/database",Di="@firebase/database-compat",_i="@firebase/functions",bi="@firebase/functions-compat",yi="@firebase/installations",Ei="@firebase/installations-compat",wi="@firebase/messaging",Ci="@firebase/messaging-compat",Ai="@firebase/performance",Si="@firebase/performance-compat",Fi="@firebase/remote-config",vi="@firebase/remote-config-compat",Ii="@firebase/storage",Ri="@firebase/storage-compat",Ti="@firebase/firestore",Oi="@firebase/vertexai-preview",Mi="@firebase/firestore-compat",Bi="firebase",ki="10.13.1";var de="[DEFAULT]",Li={[ve]:"fire-core",[ci]:"fire-core-compat",[di]:"fire-analytics",[li]:"fire-analytics-compat",[fi]:"fire-app-check",[hi]:"fire-app-check-compat",[pi]:"fire-auth",[gi]:"fire-auth-compat",[mi]:"fire-rtdb",[Di]:"fire-rtdb-compat",[_i]:"fire-fn",[bi]:"fire-fn-compat",[yi]:"fire-iid",[Ei]:"fire-iid-compat",[wi]:"fire-fcm",[Ci]:"fire-fcm-compat",[Ai]:"fire-perf",[Si]:"fire-perf-compat",[Fi]:"fire-rc",[vi]:"fire-rc-compat",[Ii]:"fire-gcs",[Ri]:"fire-gcs-compat",[Ti]:"fire-fst",[Mi]:"fire-fst-compat",[Oi]:"fire-vertex","fire-js":"fire-js",[Bi]:"fire-js-all"};var z=new Map,Y=new Map,Z=new Map;function _t(t,e){try{t.container.addComponent(e)}catch(n){U.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pi(t,e){t.container.addOrOverwriteComponent(e)}function K(t){let e=t.name;if(Z.has(e))return U.debug(`There were multiple attempts to register component ${e}.`),!1;Z.set(e,t);for(let n of z.values())_t(n,t);for(let n of Y.values())_t(n,t);return!0}function Re(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ni(t,e,n=de){Re(t,e).clearInstance(n)}function Nn(t){return t.options!==void 0}function xi(t){return t.settings!==void 0}function Ui(){Z.clear()}var $i={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},v=new ce("app","Firebase",$i);var Ie=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new x("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw v.create("app-deleted",{appName:this._name})}};var bt=class extends Ie{constructor(e,n,r,i){let s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{let u=e;super(u.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,C(ve,Dt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ct(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw v.create("server-app-deleted")}};var wt=ki;function Te(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:de,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw v.create("bad-app-name",{appName:String(i)});if(n||(n=ot()),!n)throw v.create("no-options");let s=z.get(i);if(s){if(Ae(n,s.options)&&Ae(r,s.config))return s;throw v.create("duplicate-app",{appName:i})}let o=new le(i);for(let a of Z.values())o.addComponent(a);let u=new Ie(n,r,o);return z.set(i,u),u}function xn(t,e){if(En()&&!at())throw v.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;Nn(t)?n=t.options:n=t;let r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;let i=c=>[...c].reduce((l,d)=>Math.imul(31,l)+d.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw v.create("finalization-registry-not-supported",{});let s=""+i(JSON.stringify(r)),o=Y.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;let u=new le(s);for(let c of Z.values())u.addComponent(c);let a=new bt(n,e,s,u);return Y.set(s,a),a}function fe(t=de){let e=z.get(t);if(!e&&t===de&&ot())return Te();if(!e)throw v.create("no-app",{appName:t});return e}function pe(){return Array.from(z.values())}function Ct(t){return b(this,null,function*(){let e=!1,n=t.name;z.has(n)?(e=!0,z.delete(n)):Y.has(n)&&t.decRefCount()<=0&&(Y.delete(n),e=!0),e&&(yield Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)})}function C(t,e,n){var r;let i=(r=Li[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),U.warn(u.join(" "));return}K(new x(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Un(t,e){if(t!==null&&typeof t!="function")throw v.create("invalid-log-argument");Fn(t,e)}function $n(t){Sn(t)}var zi="firebase-heartbeat-database",ji=1,he="firebase-heartbeat-store",gt=null;function zn(){return gt||(gt=Bn(zi,ji,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(he)}catch(n){console.warn(n)}}}}).catch(t=>{throw v.create("idb-open",{originalErrorMessage:t.message})})),gt}function Hi(t){return b(this,null,function*(){try{let n=(yield zn()).transaction(he),r=yield n.objectStore(he).get(jn(t));return yield n.done,r}catch(e){if(e instanceof R)U.warn(e.message);else{let n=v.create("idb-get",{originalErrorMessage:e?.message});U.warn(n.message)}}})}function kn(t,e){return b(this,null,function*(){try{let r=(yield zn()).transaction(he,"readwrite");yield r.objectStore(he).put(e,jn(t)),yield r.done}catch(n){if(n instanceof R)U.warn(n.message);else{let r=v.create("idb-set",{originalErrorMessage:n?.message});U.warn(r.message)}}})}function jn(t){return`${t.name}!${t.options.appId}`}var Vi=1024,Gi=30*24*60*60*1e3,yt=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Et(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ln();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let u=new Date(o.date).valueOf();return Date.now()-u<=Gi}),this._storage.overwrite(this._heartbeatsCache))}catch(r){U.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Ln(),{heartbeatsToSend:r,unsentEntries:i}=Wi(this._heartbeatsCache.heartbeats),s=ue(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return U.warn(n),""}})}};function Ln(){return new Date().toISOString().substring(0,10)}function Wi(t,e=Vi){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Pn(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pn(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Et=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return wn()?Cn().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Hi(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kn(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kn(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Pn(t){return ue(JSON.stringify({version:2,heartbeats:t})).length}function qi(t){K(new x("platform-logger",e=>new mt(e),"PRIVATE")),K(new x("heartbeat",e=>new yt(e),"PRIVATE")),C(ve,Dt,t),C(ve,Dt,"esm2017"),C("fire-js","")}qi("");var Zi="firebase",Ki="10.13.1";C(Zi,Ki,"app");var St=new Ye("ANGULARFIRE2_VERSION");function Ga(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Xi=(t,e)=>{let n=e?[e]:pe(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Hn=class{constructor(){return Xi(Ji)}},Ji="app-check";function X(){}var Oe=class{zone;delegate;constructor(e,n=Vt){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},At=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",X,{},X,X)),n.pipe(Gt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Vn=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Oe(Zone.current)),this.insideAngular=n.run(()=>new Oe(Zone.current,Ht)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)($(ae))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ge(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Qi(t){return ge().ngZone.runOutsideAngular(()=>t())}function G(t){return ge().ngZone.run(()=>t())}function Wa(t){return t.pipe(Ee(ge().outsideAngular))}function es(t){return ts(ge())(t)}function ts(t){return function(n){return n=n.lift(new At(t.ngZone)),n.pipe(Ve(t.outsideAngular),Ee(t.insideAngular))}}var ns=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),G(()=>t.apply(void 0,r))},Gn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=G(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",X,{},X,X))),r[s]=ns(r[s],n));let i=Qi(()=>t.apply(this,r));if(!e)if(i instanceof He){let s=ge();return i.pipe(Ve(s.outsideAngular),Ee(s.insideAngular))}else return G(()=>i);return i instanceof He?i.pipe(es):i instanceof Promise?G(()=>new Promise((s,o)=>i.then(u=>G(()=>s(u)),u=>G(()=>o(u))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:G(()=>i)};var me=class{constructor(e){return e}},Ft=class{constructor(){return pe()}};function rs(t){return t&&t.length===1?t[0]:new me(fe())}var vt=new se("angularfire2._apps"),is={provide:me,useFactory:rs,deps:[[new Ge,vt]]},ss={provide:Ft,deps:[[new Ge,vt]]};function os(t){return(e,n)=>{let r=n.get(qe);C("angularfire",St.full,"core"),C("angularfire",St.full,"app"),C("angular",nn.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new me(i)}}function Qa(t,...e){return Jt([is,ss,{provide:vt,useFactory:os(t),multi:!0,deps:[ae,We,Vn,...e]}])}var eu=Gn(Te,!0);var er="firebasestorage.googleapis.com",tr="storageBucket",as=2*60*1e3,us=10*60*1e3,cs=1e3;var m=class t extends R{constructor(e,n,r=0){super(It(e),`Firebase Storage: ${n} (${It(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return It(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},p=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(p||{});function It(t){return"storage/"+t}function xt(){let t="An unknown error occurred, please check the error payload for server response.";return new m(p.UNKNOWN,t)}function ls(t){return new m(p.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ds(t){return new m(p.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hs(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new m(p.UNAUTHENTICATED,t)}function fs(){return new m(p.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ps(t){return new m(p.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function nr(){return new m(p.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rr(){return new m(p.CANCELED,"User canceled the upload/download.")}function gs(t){return new m(p.INVALID_URL,"Invalid URL '"+t+"'.")}function ms(t){return new m(p.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ds(){return new m(p.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tr+"' property when initializing the app?")}function ir(){return new m(p.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _s(){return new m(p.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function bs(){return new m(p.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ys(t){return new m(p.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tt(t){return new m(p.INVALID_ARGUMENT,t)}function sr(){return new m(p.APP_DELETED,"The Firebase app was deleted.")}function Es(t){return new m(p.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _e(t,e){return new m(p.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function De(t){throw new m(p.INTERNAL_ERROR,"Internal error: "+t)}var S=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw ms(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}let o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function c(y){y.path_=decodeURIComponent(y.path)}let l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${l}/b/${i}/o${f}`,"i"),D={bucket:1,path:3},F=n===er?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",L=new RegExp(`^https?://${F}/${i}/${_}`,"i"),w=[{regex:u,indices:a,postModify:s},{regex:g,indices:D,postModify:c},{regex:L,indices:{bucket:1,path:2},postModify:c}];for(let y=0;y<w.length;y++){let W=w[y],q=W.regex.exec(e);if(q){let Ue=q[W.indices.bucket],ie=q[W.indices.path];ie||(ie=""),r=new t(Ue,ie),W.postModify(r);break}}if(r==null)throw gs(e);return r}},Ot=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function ws(t,e,n){let r=1,i=null,s=null,o=!1,u=0;function a(){return u===2}let c=!1;function l(..._){c||(c=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(g,a())},_)}function f(){s&&clearTimeout(s)}function g(_,...L){if(c){f();return}if(_){f(),l.call(null,_,...L);return}if(a()||o){f(),l.call(null,_,...L);return}r<64&&(r*=2);let w;u===1?(u=2,w=0):w=(r+Math.random())*1e3,d(w)}let D=!1;function F(_){D||(D=!0,f(),!c&&(i!==null?(_||(u=2),clearTimeout(i),d(0)):_||(u=1)))}return d(0),s=setTimeout(()=>{o=!0,F(!0)},n),F}function Cs(t){t(!1)}function As(t){return t!==void 0}function Ss(t){return typeof t=="function"}function Fs(t){return typeof t=="object"&&!Array.isArray(t)}function Le(t){return typeof t=="string"||t instanceof String}function Wn(t){return Ut()&&t instanceof Blob}function Ut(){return typeof Blob<"u"}function Mt(t,e,n,r){if(r<e)throw Tt(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Tt(`Invalid value for '${t}'. Expected ${n} or less.`)}function j(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function or(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ee=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(ee||{});function ar(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var Bt=class{constructor(e,n,r,i,s,o,u,a,c,l,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,D)=>{this.resolve_=g,this.reject_=D,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Q(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=u=>{let a=u.loaded,c=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let u=s.getErrorCode()===ee.NO_ERROR,a=s.getStatus();if(!u||ar(a,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===ee.ABORT;r(!1,new Q(!1,null,l));return}let c=this.successCodes_.indexOf(a)!==-1;r(!0,new Q(c,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{let a=this.callback_(u,u.getResponse());As(a)?s(a):s()}catch(a){o(a)}else if(u!==null){let a=xt();a.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,a)):o(a)}else if(i.canceled){let a=this.appDelete_?sr():rr();o(a)}else{let a=nr();o(a)}};this.canceled_?n(!1,new Q(!1,null,!0)):this.backoffId_=ws(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Cs(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Q=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function vs(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Is(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Rs(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ts(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Os(t,e,n,r,i,s,o=!0){let u=or(t.urlParams),a=t.url+u,c=Object.assign({},t.headers);return Rs(c,e),vs(c,n),Is(c,s),Ts(c,r),new Bt(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function Ms(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Bs(...t){let e=Ms();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ut())return new Blob(t);throw new m(p.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ks(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function Ls(t){if(typeof atob>"u")throw ys("base-64");return atob(t)}var B={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},be=class{constructor(e,n){this.data=e,this.contentType=n||null}};function Ps(t,e){switch(t){case B.RAW:return new be(ur(e));case B.BASE64:case B.BASE64URL:return new be(cr(t,e));case B.DATA_URL:return new be(xs(e),Us(e))}throw xt()}function ur(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Ns(t){let e;try{e=decodeURIComponent(t)}catch{throw _e(B.DATA_URL,"Malformed data URL.")}return ur(e)}function cr(t,e){switch(t){case B.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw _e(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case B.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw _e(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ls(e)}catch(i){throw i.message.includes("polyfill")?i:_e(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var Be=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw _e(B.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=$s(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function xs(t){let e=new Be(t);return e.base64?cr(B.BASE64,e.rest):Ns(e.rest)}function Us(t){return new Be(t).contentType}function $s(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var ke=class t{constructor(e,n){let r=0,i="";Wn(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Wn(this.data_)){let r=this.data_,i=ks(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(Ut()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(Bs.apply(null,n))}else{let n=e.map(o=>Le(o)?Ps(B.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let u=0;u<o.length;u++)i[s++]=o[u]}),new t(i,!0)}}uploadData(){return this.data_}};function $t(t){let e;try{e=JSON.parse(t)}catch{return null}return Fs(e)?e:null}function zs(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function js(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lr(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Hs(t,e){return e}var E=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Hs}},Me=null;function Vs(t){return!Le(t)||t.length<2?t:lr(t)}function Pe(){if(Me)return Me;let t=[];t.push(new E("bucket")),t.push(new E("generation")),t.push(new E("metageneration")),t.push(new E("name","fullPath",!0));function e(s,o){return Vs(o)}let n=new E("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new E("size");return i.xform=r,t.push(i),t.push(new E("timeCreated")),t.push(new E("updated")),t.push(new E("md5Hash",null,!0)),t.push(new E("cacheControl",null,!0)),t.push(new E("contentDisposition",null,!0)),t.push(new E("contentEncoding",null,!0)),t.push(new E("contentLanguage",null,!0)),t.push(new E("contentType",null,!0)),t.push(new E("metadata","customMetadata",!0)),Me=t,Me}function Gs(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new S(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Ws(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return Gs(r,t),r}function dr(t,e,n){let r=$t(e);return r===null?null:Ws(t,r,n)}function qs(t,e,n,r){let i=$t(e);if(i===null||!Le(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(c=>{let l=t.bucket,d=t.fullPath,f="/b/"+o(l)+"/o/"+o(d),g=j(f,n,r),D=or({alt:"media",token:c});return g+D})[0]}function zt(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var qn="prefixes",Yn="items";function Ys(t,e,n){let r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[qn])for(let i of n[qn]){let s=i.replace(/\/$/,""),o=t._makeStorageReference(new S(e,s));r.prefixes.push(o)}if(n[Yn])for(let i of n[Yn]){let s=t._makeStorageReference(new S(e,i.name));r.items.push(s)}return r}function Zs(t,e,n){let r=$t(n);return r===null?null:Ys(t,e,r)}var I=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function k(t){if(!t)throw xt()}function Ne(t,e){function n(r,i){let s=dr(t,i,e);return k(s!==null),s}return n}function Ks(t,e){function n(r,i){let s=Zs(t,e,i);return k(s!==null),s}return n}function Xs(t,e){function n(r,i){let s=dr(t,i,e);return k(s!==null),qs(s,i,t.host,t._protocol)}return n}function re(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=fs():i=hs():n.getStatus()===402?i=ds(t.bucket):n.getStatus()===403?i=ps(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function xe(t){let e=re(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=ls(t.path)),s.serverResponse=i.serverResponse,s}return n}function hr(t,e,n){let r=e.fullServerUrl(),i=j(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,u=new I(i,s,Ne(t,n),o);return u.errorHandler=xe(e),u}function Js(t,e,n,r,i){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);let o=e.bucketOnlyServerUrl(),u=j(o,t.host,t._protocol),a="GET",c=t.maxOperationRetryTime,l=new I(u,a,Ks(t,e.bucket),c);return l.urlParams=s,l.errorHandler=re(e),l}function Qs(t,e,n){let r=e.fullServerUrl(),i=j(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,u=new I(i,s,Xs(t,n),o);return u.errorHandler=xe(e),u}function eo(t,e,n,r){let i=e.fullServerUrl(),s=j(i,t.host,t._protocol),o="PATCH",u=zt(n,r),a={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,l=new I(s,o,Ne(t,r),c);return l.headers=a,l.body=u,l.errorHandler=xe(e),l}function to(t,e){let n=e.fullServerUrl(),r=j(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(a,c){}let u=new I(r,i,o,s);return u.successCodes=[200,204],u.errorHandler=xe(e),u}function no(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function fr(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=no(null,e)),r}function ro(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let w="";for(let y=0;y<2;y++)w=w+Math.random().toString().slice(2);return w}let a=u();o["Content-Type"]="multipart/related; boundary="+a;let c=fr(e,r,i),l=zt(c,n),d="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+l+`\r
--`+a+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+a+"--",g=ke.getBlob(d,r,f);if(g===null)throw ir();let D={name:c.fullPath},F=j(s,t.host,t._protocol),_="POST",L=t.maxUploadRetryTime,P=new I(F,_,Ne(t,n),L);return P.urlParams=D,P.headers=o,P.body=g.uploadData(),P.errorHandler=re(e),P}var te=class{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}};function jt(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{k(!1)}return k(!!n&&(e||["active"]).indexOf(n)!==-1),n}function io(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o=fr(e,r,i),u={name:o.fullPath},a=j(s,t.host,t._protocol),c="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=zt(o,n),f=t.maxUploadRetryTime;function g(F){jt(F);let _;try{_=F.getResponseHeader("X-Goog-Upload-URL")}catch{k(!1)}return k(Le(_)),_}let D=new I(a,c,g,f);return D.urlParams=u,D.headers=l,D.body=d,D.errorHandler=re(e),D}function so(t,e,n,r){let i={"X-Goog-Upload-Command":"query"};function s(c){let l=jt(c,["active","final"]),d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{k(!1)}d||k(!1);let f=Number(d);return k(!isNaN(f)),new te(f,r.size(),l==="final")}let o="POST",u=t.maxUploadRetryTime,a=new I(n,o,s,u);return a.headers=i,a.errorHandler=re(e),a}var Zn=256*1024;function oo(t,e,n,r,i,s,o,u){let a=new te(0,0);if(o?(a.current=o.current,a.total=o.total):(a.current=0,a.total=r.size()),r.size()!==a.total)throw _s();let c=a.total-a.current,l=c;i>0&&(l=Math.min(l,i));let d=a.current,f=d+l,g="";l===0?g="finalize":c===l?g="upload, finalize":g="upload";let D={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${a.current}`},F=r.slice(d,f);if(F===null)throw ir();function _(y,W){let q=jt(y,["active","final"]),Ue=a.current+l,ie=r.size(),$e;return q==="final"?$e=Ne(e,s)(y,W):$e=null,new te(Ue,ie,q==="final",$e)}let L="POST",P=e.maxUploadRetryTime,w=new I(n,L,_,P);return w.headers=D,w.body=F.uploadData(),w.progressCallback=u||null,w.errorHandler=re(t),w}var ou={STATE_CHANGED:"state_changed"},A={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Rt(t){switch(t){case"running":case"pausing":case"canceling":return A.RUNNING;case"paused":return A.PAUSED;case"success":return A.SUCCESS;case"canceled":return A.CANCELED;case"error":return A.ERROR;default:return A.ERROR}}var kt=class{constructor(e,n,r){if(Ss(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function J(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var Kn=null,Lt=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ee.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ee.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ee.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw De("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw De("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw De("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw De("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw De("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Pt=class extends Lt{initXhr(){this.xhr_.responseType="text"}};function M(){return Kn?Kn():new Pt}var Nt=class{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Pe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(p.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(ar(i.status,[]))if(s)i=nr();else{this.sleepTime=Math.max(this.sleepTime*2,cs),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(p.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let r=io(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,M,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,r)=>{let i=so(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,M,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=Zn*this._chunkMultiplier,n=new te(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=oo(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(a){this._error=a,this._transition("error");return}let u=this._ref.storage._makeRequest(o,M,i,s,!1);this._request=u,u.getPromise().then(a=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(a.current),a.finalized?(this._metadata=a.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Zn*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let r=hr(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,M,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let r=ro(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,M,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=rr(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=Rt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){let s=new kt(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Rt(this._state)){case A.SUCCESS:J(this._resolve.bind(null,this.snapshot))();break;case A.CANCELED:case A.ERROR:let n=this._reject;J(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Rt(this._state)){case A.RUNNING:case A.PAUSED:e.next&&J(e.next.bind(e,this.snapshot))();break;case A.SUCCESS:e.complete&&J(e.complete.bind(e))();break;case A.CANCELED:case A.ERROR:e.error&&J(e.error.bind(e,this._error))();break;default:e.error&&J(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var ne=class t{constructor(e,n){this._service=e,n instanceof S?this._location=n:this._location=S.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new S(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lr(this._location.path)}get storage(){return this._service}get parent(){let e=zs(this._location.path);if(e===null)return null;let n=new S(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Es(e)}};function ao(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Nt(t,new ke(e),n)}function uo(t){let e={prefixes:[],items:[]};return pr(t,e).then(()=>e)}function pr(t,e,n){return b(this,null,function*(){let i=yield gr(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield pr(t,e,i.nextPageToken))})}function gr(t,e){e!=null&&typeof e.maxResults=="number"&&Mt("options.maxResults",1,1e3,e.maxResults);let n=e||{},r=Js(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,M)}function co(t){t._throwIfRoot("getMetadata");let e=hr(t.storage,t._location,Pe());return t.storage.makeRequestWithTokens(e,M)}function lo(t,e){t._throwIfRoot("updateMetadata");let n=eo(t.storage,t._location,e,Pe());return t.storage.makeRequestWithTokens(n,M)}function ho(t){t._throwIfRoot("getDownloadURL");let e=Qs(t.storage,t._location,Pe());return t.storage.makeRequestWithTokens(e,M).then(n=>{if(n===null)throw bs();return n})}function fo(t){t._throwIfRoot("deleteObject");let e=to(t.storage,t._location);return t.storage.makeRequestWithTokens(e,M)}function mr(t,e){let n=js(t._location.path,e),r=new S(t._location.bucket,n);return new ne(t.storage,r)}function po(t){return/^[A-Za-z]+:\/\//.test(t)}function go(t,e){return new ne(t,e)}function Dr(t,e){if(t instanceof ye){let n=t;if(n._bucket==null)throw Ds();let r=new ne(n,n._bucket);return e!=null?Dr(r,e):r}else return e!==void 0?mr(t,e):t}function mo(t,e){if(e&&po(e)){if(t instanceof ye)return go(t,e);throw Tt("To use ref(service, url), the first argument must be a Storage instance.")}else return Dr(t,e)}function Xn(t,e){let n=e?.[tr];return n==null?null:S.makeFromBucketSpec(n,t)}function Do(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:bn(i,t.app.options.projectId))}var ye=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=er,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=as,this._maxUploadRetryTime=us,this._requests=new Set,i!=null?this._bucket=S.makeFromBucketSpec(i,this._host):this._bucket=Xn(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=S.makeFromBucketSpec(this._url,e):this._bucket=Xn(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Mt("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Mt("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ne(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Ot(sr());{let o=Os(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return b(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},Jn="@firebase/storage",Qn="0.13.1";var _r="storage";function au(t,e,n){return t=T(t),ao(t,e,n)}function uu(t){return t=T(t),co(t)}function cu(t,e){return t=T(t),lo(t,e)}function lu(t,e){return t=T(t),gr(t,e)}function du(t){return t=T(t),uo(t)}function hu(t){return t=T(t),ho(t)}function fu(t){return t=T(t),fo(t)}function pu(t,e){return t=T(t),mo(t,e)}function gu(t,e){return mr(t,e)}function mu(t=fe(),e){t=T(t);let r=Re(t,_r).getImmediate({identifier:e}),i=_n("storage");return i&&_o(r,...i),r}function _o(t,e,n,r={}){Do(t,e,n,r)}function bo(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ye(n,r,i,e,wt)}function yo(){K(new x(_r,bo,"PUBLIC").setMultipleInstances(!0)),C(Jn,Qn,""),C(Jn,Qn,"esm2017")}yo();export{Xe as a,na as b,on as c,hn as d,Fr as e,ra as f,ia as g,sa as h,oa as i,aa as j,ua as k,ln as l,Dn as m,Pr as n,Nr as o,Ur as p,Hr as q,_n as r,da as s,Ce as t,bn as u,yn as v,ha as w,fa as x,pa as y,ga as z,wn as A,R as B,ce as C,ma as D,Da as E,Ae as F,_a as G,ba as H,T as I,x as J,h as K,Se as L,de as M,_t as N,Pi as O,K as P,Re as Q,xi as R,wt as S,Te as T,fe as U,Ct as V,C as W,Un as X,$n as Y,Yi as Z,St as _,Ga as $,Xi as aa,Hn as ba,Vn as ca,Wa as da,es as ea,Gn as fa,me as ga,Ft as ha,Qa as ia,eu as ja,Tt as ka,Es as la,S as ma,B as na,Ps as oa,ke as pa,ou as qa,A as ra,Nt as sa,au as ta,uu as ua,cu as va,lu as wa,du as xa,hu as ya,fu as za,pu as Aa,gu as Ba,mu as Ca,_o as Da};
