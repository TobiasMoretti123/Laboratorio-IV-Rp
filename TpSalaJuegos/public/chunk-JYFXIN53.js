import{a as D,l as N,m as H,n as J}from"./chunk-EPGJXKQY.js";import"./chunk-WXI33M2S.js";import"./chunk-WSSWXG6I.js";import{a as R,b as w,g as F,h as A,i as v}from"./chunk-W2GDRTPK.js";import{Ec as T,Gb as a,Hb as C,Ib as h,La as z,Oa as p,Pa as m,ba as M,ca as f,cb as g,ga as O,gb as c,la as S,lb as i,ma as x,mb as r,nb as I,rb as B,ta as k,ua as y,ub as l,wb as d,xc as j,yc as E}from"./chunk-NLIUBASE.js";var u=class n{constructor(t){this.http=t}apiUrl="https://restcountries.com/v3.1/all";ObtenerPaises(){return this.http.get(this.apiUrl)}ObtenerPaisesPorNombre(t){let e=`https://restcountries.com/v3.1/name/${t}`;return this.http.get(e)}static \u0275fac=function(e){return new(e||n)(O(R))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};function $(n,t){if(n&1&&(i(0,"div",15),a(1),r()),n&2){let e=d();p(),C(e.usuarioLogeado)}}function q(n,t){if(n&1&&(i(0,"div"),I(1,"img",19),r()),n&2){let e=d(2);p(),c("src",e.paisCorrecto.flags.png,z)}}function Q(n,t){if(n&1&&(i(0,"div",16)(1,"h2",17),a(2,"\xBFDe qu\xE9 pa\xEDs es esta bandera?"),r(),g(3,q,2,1,"div",18),r()),n&2){let e=d();p(3),c("ngIf",e.mostrarBandera)}}function G(n,t){if(n&1){let e=B();i(0,"button",20),l("click",function(){let s=k(e).$implicit,L=d();return y(L.verificarRespuesta(s))}),i(1,"p"),a(2),r()()}if(n&2){let e=t.$implicit,o=d();c("disabled",o.desabilitarBotones),p(2),C(e.translations.spa.common)}}var b=class n{constructor(t,e,o,s){this.paisesService=t;this.fireAuthService=e;this.snackBar=o;this.router=s}paisCorrecto;opciones=[];mensajeResultado="";usuarioLogeado="";mostrarTooltip=!1;intentos=10;puntos=0;blockearRejugar=!0;desabilitarBotones=!1;mostrarBandera=!0;ngOnInit(){this.obtenerPaises(),this.fireAuthService.getUserEmail().subscribe(t=>{this.usuarioLogeado=t})}obtenerPaises(){this.paisesService.ObtenerPaises().subscribe(t=>{this.generarPregunta(t),this.EstadoDelJuego()})}generarPregunta(t){let e=Math.floor(Math.random()*t.length);this.paisCorrecto=t[e];let o=this.obtenerPaisesFalsos(t,e);this.opciones=this.mezclarOpciones([this.paisCorrecto,...o]),console.log(this.paisCorrecto)}obtenerPaisesFalsos(t,e){let o=[];for(;o.length<3;){let s=Math.floor(Math.random()*t.length);s!==e&&!o.includes(t[s])&&o.push(t[s])}return o}mezclarOpciones(t){return t.sort(()=>Math.random()-.5)}verificarRespuesta(t){t.nombre===this.paisCorrecto.nombre?(this.puntos++,this.intentos--,this.AbrirSnackBar("\xA1Correcto!"),this.obtenerPaises()):(this.intentos--,this.AbrirSnackBar("Incorrecto, la Bandera Seleccionada era de: "+this.paisCorrecto.nombre),this.obtenerPaises())}Volver(){this.RuteoHome()}RuteoHome(){this.router.navigate(["/Home"])}AbrirSnackBar(t){this.snackBar.open(t,"Cerrar",{duration:4e3})}mostrarTexto(){this.mostrarTooltip=!0}ocultarTexto(){this.mostrarTooltip=!1}CerrarSession(){this.fireAuthService.logout(),this.RuteoHome(),this.AbrirSnackBar("Se ha cerrado la sesi\xF3n")}EstadoDelJuego(){this.intentos===0&&(this.mostrarBandera=!1,this.blockearRejugar=!1,this.desabilitarBotones=!0,this.AbrirSnackBar(`Obtuviste ${this.puntos} puntos`))}JugarDeNuevo(){this.intentos=10,this.puntos=0,this.desabilitarBotones=!1,this.blockearRejugar=!0,this.mostrarBandera=!0,this.obtenerPaises()}static \u0275fac=function(e){return new(e||n)(m(u),m(D),m(J),m(F))};static \u0275cmp=S({type:n,selectors:[["app-preguntados"]],decls:23,vars:6,consts:[[1,"button-grid"],["mat-raised-button","",3,"click"],["mat-raised-button","","routerLink","/Chat"],["mat-raised-button","","routerLink","/QuienSoy"],["mat-raised-button","","color","warn",3,"click"],[1,"material-icons",3,"mouseover","mouseleave"],["class","tooltip",4,"ngIf"],[1,"container"],["class","pregunta",4,"ngIf"],[1,"opciones"],["mat-raised-button","",3,"disabled","click",4,"ngFor","ngForOf"],[1,"estadoDeJuego"],[1,"texto","puntos"],[1,"texto","vidas"],["mat-raised-button","","color","primary",1,"rejugar",3,"click","disabled"],[1,"tooltip"],[1,"pregunta"],[1,"titulo"],[4,"ngIf"],["alt","Bandera correcta",1,"bandera",3,"src"],["mat-raised-button","",3,"click","disabled"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"button",1),l("click",function(){return o.Volver()}),a(2,"Volver"),r(),i(3,"button",2),a(4,"Chat"),r(),i(5,"button",3),a(6,"Sobre M\xED"),r(),i(7,"button",4),l("click",function(){return o.CerrarSession()}),a(8,"Cerrar Sesi\xF3n"),r(),i(9,"i",5),l("mouseover",function(){return o.mostrarTexto()})("mouseleave",function(){return o.ocultarTexto()}),a(10,"account_circle"),r(),g(11,$,2,1,"div",6),r(),i(12,"div",7),g(13,Q,4,1,"div",8),i(14,"div",9),g(15,G,3,2,"button",10),r(),i(16,"div",11)(17,"p",12),a(18),r(),i(19,"p",13),a(20),r()(),i(21,"button",14),l("click",function(){return o.JugarDeNuevo()}),a(22," Volver a Jugar "),r()()),e&2&&(p(11),c("ngIf",o.mostrarTooltip),p(2),c("ngIf",o.paisCorrecto),p(2),c("ngForOf",o.opciones),p(3),h("Puntos: ",o.puntos,""),p(2),h("Intentos: ",o.intentos,""),p(),c("disabled",o.blockearRejugar))},dependencies:[j,E,A,N],styles:[".button-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;background-color:#ffffff80;padding:10px;display:flex;justify-content:flex-end}.button-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;margin-bottom:10px;padding:20px 30px;font-size:20px}.container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#ffffff80;padding:10px;border-radius:10px;text-align:center}.content[_ngcontent-%COMP%]{padding-top:50px}.material-icons[_ngcontent-%COMP%]{margin-left:10px;margin-top:2px;font-size:40px}.pregunta[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.opciones[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.opciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:30px 20px;font-size:20px;margin-bottom:10px}.bandera[_ngcontent-%COMP%]{width:300px;height:200px;object-fit:contain;border:1px solid #ccc;background-color:#f9f9f9}p[_ngcontent-%COMP%]{margin:0}.puntos[_ngcontent-%COMP%]{color:#fff;background-color:#0000ff80;border-radius:20px;padding:10px 20px;font-size:18px;text-align:left}.estadoDelJuego[_ngcontent-%COMP%]{width:100%}.vidas[_ngcontent-%COMP%]{color:#fff;background-color:#ff000080;border-radius:20px;padding:10px 20px;font-size:18px;text-align:left}.rejugar[_ngcontent-%COMP%]{display:block;padding:20px 30px;font-size:20px;border:none;border-radius:5px;cursor:pointer;text-align:center;line-height:0;margin-top:10px}.tooltip[_ngcontent-%COMP%]{position:absolute;background-color:#fff;color:#000;padding:5px;border-radius:3px;z-index:9999;margin-top:60px;font-size:20px}@media (max-width: 1366px){.button-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px}.material-icons[_ngcontent-%COMP%], .titulo[_ngcontent-%COMP%]{font-size:40px}.material-icons[_ngcontent-%COMP%]{font-size:35px}.container[_ngcontent-%COMP%]{width:900px;height:660px;margin-top:30px}.pregunta[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px}.opciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;font-size:18px}.puntos[_ngcontent-%COMP%], .vidas[_ngcontent-%COMP%]{padding:8px 15px;font-size:16px}.rejugar[_ngcontent-%COMP%]{padding:15px 25px;font-size:18px}}@media (max-width: 1024px){.button-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px}.titulo[_ngcontent-%COMP%]{font-size:40px}.material-icons[_ngcontent-%COMP%]{font-size:35px}.tooltip[_ngcontent-%COMP%]{font-size:14px}.container[_ngcontent-%COMP%]{width:900px;height:660px;margin-top:30px}.pregunta[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px}.opciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;font-size:18px}.puntos[_ngcontent-%COMP%], .vidas[_ngcontent-%COMP%]{padding:6px 10px;font-size:14px}.rejugar[_ngcontent-%COMP%]{padding:10px 15px;font-size:16px}}"]})};var K=[{path:"",component:b}],_=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=x({type:n});static \u0275inj=f({imports:[v.forChild(K),v]})};var V=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=x({type:n});static \u0275inj=f({providers:[u],imports:[T,_,w,H]})};export{V as PreguntadosModule};
