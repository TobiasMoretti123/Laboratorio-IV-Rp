import{h as G}from"./chunk-CIBFGSKC.js";import{c as K}from"./chunk-WKXNGDBB.js";import{a as L,l as $,m as Q,n as q}from"./chunk-RFWKMY3H.js";import"./chunk-WXI33M2S.js";import"./chunk-U7MGYEHI.js";import{a as J,b as V,g as A,h as H,i as S}from"./chunk-JZGRMYVI.js";import{Ac as j,Bc as N,Cc as R,Gb as l,Gc as U,Hb as E,Ib as h,La as m,Oa as n,Pa as u,Pb as z,ba as M,ca as b,cb as f,e as k,ga as y,gb as r,la as I,lb as a,ma as _,mb as o,nb as p,rb as P,ta as O,ua as T,ub as g,wb as d,yc as B,zc as F}from"./chunk-YTVPJGYC.js";var v=class t{constructor(i){this.http=i}url="https://rolz.org/api/";ObtenerDado(i){let e=`${this.url}?${i}.json`;return this.http.get(e)}static \u0275fac=function(e){return new(e||t)(y(J))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var Y=t=>({oculto:t});function Z(t,i){if(t&1&&(a(0,"div",18),l(1),o()),t&2){let e=d();n(),E(e.usuario)}}function tt(t,i){if(t&1&&(a(0,"div"),p(1,"img",10),o()),t&2){let e=d(2);n(),r("src",e.imagen1,m)}}function et(t,i){if(t&1&&(a(0,"div"),p(1,"img",10),o()),t&2){let e=d(2);n(),r("src",e.imagen2,m)}}function it(t,i){if(t&1&&(a(0,"div"),p(1,"img",10),o()),t&2){let e=d(2);n(),r("src",e.imagen3,m)}}function nt(t,i){if(t&1&&(a(0,"div"),p(1,"img",10),o()),t&2){let e=d(2);n(),r("src",e.imagen4,m)}}function ot(t,i){if(t&1&&(a(0,"div"),p(1,"img",10),o()),t&2){let e=d(2);n(),r("src",e.imagen5,m)}}function rt(t,i){if(t&1&&(a(0,"div"),p(1,"img",10),o()),t&2){let e=d(2);n(),r("src",e.imagen6,m)}}function at(t,i){if(t&1&&(a(0,"div",19),f(1,tt,2,1,"div",20)(2,et,2,1,"div",20)(3,it,2,1,"div",20)(4,nt,2,1,"div",20)(5,ot,2,1,"div",20)(6,rt,2,1,"div",20),o()),t&2){let e=d();r("ngSwitch",e.valorDelDado),n(),r("ngSwitchCase",1),n(),r("ngSwitchCase",2),n(),r("ngSwitchCase",3),n(),r("ngSwitchCase",4),n(),r("ngSwitchCase",5),n(),r("ngSwitchCase",6)}}function st(t,i){if(t&1){let e=P();a(0,"button",21),g("click",function(){let c=O(e).$implicit,D=d();return T(D.CompararDado(c))}),l(1),o()}if(t&2){let e=i.$implicit,s=d();r("disabled",s.blockearBotones),n(),h(" ",e," ")}}var C=class t{constructor(i,e,s,c,D){this.storageService=i;this.servicio=e;this.router=s;this.auth=c;this.snackBar=D}botones=["1","2","3","4","5","6"];dadoMostrado=0;dadoTraido;valorSeleccionado="";valorDelDado=0;intentos=10;puntos=0;blockearBotones=!1;mostrarDado=!1;mostrarTooltip=!1;blockearJugarDeNuevo=!0;usuario="";imagen0=null;imagen1=null;imagen2=null;imagen3=null;imagen4=null;imagen5=null;imagen6=null;ngOnInit(){return k(this,null,function*(){this.LanzarDado(),this.auth.getUserEmail().subscribe(i=>{this.usuario=i}),this.imagen0=yield this.obtenerImagen("0.png"),this.imagen1=yield this.obtenerImagen("1.png"),this.imagen2=yield this.obtenerImagen("2.png"),this.imagen3=yield this.obtenerImagen("3.png"),this.imagen4=yield this.obtenerImagen("4.png"),this.imagen5=yield this.obtenerImagen("5.png"),this.imagen6=yield this.obtenerImagen("6.png")})}CerrarSession(){this.auth.logout(),this.AbrirSnackBar("Se a cerrado la sesion"),this.RuteoHome()}mostrarTexto(){this.mostrarTooltip=!0}ocultarTexto(){this.mostrarTooltip=!1}AbrirSnackBar(i){this.snackBar.open(i,"Cerrar",{duration:2e3,panelClass:["my-snackbar"]})}LanzarDado(){this.servicio.ObtenerDado("d6").subscribe(i=>{this.dadoTraido=i,this.valorDelDado=this.dadoTraido.result,this.mostrarDado=!1})}CompararDado(i){this.valorSeleccionado=i,this.valorDelDado.toString()===this.valorSeleccionado?(this.intentos--,this.puntos++,this.AbrirSnackBar(`Se lanzo un ${this.valorDelDado}`)):(this.intentos--,this.AbrirSnackBar(`Se lanzo un ${this.valorDelDado}`)),this.EstadoDelJuego(),setTimeout(()=>{this.LanzarDado(),this.mostrarDado=!1,this.blockearBotones=!1},2e3),this.blockearBotones=!0,this.mostrarDado=!0}EstadoDelJuego(){this.intentos==0&&setTimeout(()=>{this.AbrirSnackBar(`Obtuviste ${this.puntos} Puntos`),this.blockearJugarDeNuevo=!1,this.mostrarDado=!1,this.blockearBotones=!0},2010)}Volver(){this.RuteoHome()}RuteoHome(){this.router.navigate(["/Home"])}ReiniciarJuego(){this.intentos=10,this.puntos=0,this.mostrarDado=!1,this.blockearBotones=!1,this.blockearJugarDeNuevo=!0}obtenerImagen(i){return new Promise((e,s)=>{this.storageService.getImageUrl(i).subscribe({next:c=>e(c),error:c=>{console.error("Error al obtener la URL de la imagen:",c),e("")}})})}static \u0275fac=function(e){return new(e||t)(u(K),u(v),u(A),u(L),u(q))};static \u0275cmp=I({type:t,selectors:[["app-dado"]],decls:27,vars:10,consts:[[1,"button-grid"],["mat-raised-button","",3,"click"],["mat-raised-button","","routerLink","/Chat"],["mat-raised-button","","routerLink","/QuienSoy"],["mat-raised-button","","color","warn",3,"click"],[1,"material-icons",3,"mouseover","mouseleave"],["class","tooltip",4,"ngIf"],[1,"container"],[1,"titulo"],[1,"dadoMuestra",3,"ngClass"],[3,"src"],["class","dado",3,"ngSwitch",4,"ngIf"],[1,"botones"],["mat-raised-button","","color","accent",3,"disabled","click",4,"ngFor","ngForOf"],[1,"sidebar"],[1,"puntos"],[1,"intentos"],["mat-raised-button","","color","primary",1,"reintentar",3,"click","disabled"],[1,"tooltip"],[1,"dado",3,"ngSwitch"],[4,"ngSwitchCase"],["mat-raised-button","","color","accent",3,"click","disabled"]],template:function(e,s){e&1&&(a(0,"div",0)(1,"button",1),g("click",function(){return s.Volver()}),l(2,"Volver"),o(),a(3,"button",2),l(4,"Chat"),o(),a(5,"button",3),l(6,"Sobre M\xED"),o(),a(7,"button",4),g("click",function(){return s.CerrarSession()}),l(8,"Cerrar Sesi\xF3n"),o(),a(9,"i",5),g("mouseover",function(){return s.mostrarTexto()})("mouseleave",function(){return s.ocultarTexto()}),l(10,"account_circle"),o(),f(11,Z,2,1,"div",6),o(),a(12,"div",7)(13,"h1",8),l(14,"Que Valor de Dado Va a Salir?"),o(),a(15,"div",9),p(16,"img",10),o(),f(17,at,7,7,"div",11),a(18,"div",12),f(19,st,2,2,"button",13),o(),a(20,"div",14)(21,"p",15),l(22),o(),a(23,"p",16),l(24),o()(),a(25,"button",17),g("click",function(){return s.ReiniciarJuego()}),l(26,"Volver a Jugar"),o()()),e&2&&(n(11),r("ngIf",s.mostrarTooltip),n(4),r("ngClass",z(8,Y,s.mostrarDado)),n(),r("src",s.imagen0,m),n(),r("ngIf",s.mostrarDado),n(2),r("ngForOf",s.botones),n(3),h("Puntos: ",s.puntos,""),n(2),h("Intentos: ",s.intentos,""),n(),r("disabled",s.blockearJugarDeNuevo))},dependencies:[B,F,j,N,R,H,$],styles:[".button-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;background-color:#ffffff80;padding:.1vw;display:flex;justify-content:flex-end}.button-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5vw;padding:1vw 2vw;font-size:1vw;margin-top:.5vw;margin-bottom:.5vw}.content[_ngcontent-%COMP%]{padding-top:50px}.material-icons[_ngcontent-%COMP%]{margin-left:1vw;margin-top:.4vw;font-size:2.5vw}.tooltip[_ngcontent-%COMP%]{position:absolute;background-color:#fff;color:#000;padding:5px;border-radius:3px;z-index:9999;margin-top:3vw;font-size:1vw}.container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#ffffff80;padding:2vw;border-radius:1vw;text-align:center}.botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:2vw;margin-bottom:1vw;padding:1vw 2vw;font-size:2vw}.dado[_ngcontent-%COMP%]{padding:2vw;border-radius:1vw;text-align:center}.dado[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15vw}.dadoMuestra[_ngcontent-%COMP%]{padding:2vw;border-radius:1vw;text-align:center}.dadoMuestra[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15vw}.oculto[_ngcontent-%COMP%]{display:none}.reintentar[_ngcontent-%COMP%]{display:block;padding:1vw 2vw;font-size:2vw;border:none;border-radius:5vw;cursor:pointer;text-align:center;line-height:0;margin-top:1vw}.sidebar[_ngcontent-%COMP%]{width:100%}.intentos[_ngcontent-%COMP%]{color:#fff;background-color:#ff000080;border-radius:2vw;padding:.5vw 1vw;font-size:1vw;text-align:left}.titulo[_ngcontent-%COMP%]{font-size:3vw}.puntos[_ngcontent-%COMP%]{color:#fff;background-color:#0000ff80;border-radius:2vw;padding:.5vw 1vw;font-size:1vw;text-align:left}"]})};var lt=[{path:"",component:C}],w=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=_({type:t});static \u0275inj=b({imports:[S.forChild(lt),S]})};var W=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=_({type:t});static \u0275inj=b({providers:[v],imports:[U,w,V,Q,G]})};export{W as DadoModule};
