import{h as q}from"./chunk-KFUXB3OE.js";import{c as G}from"./chunk-XJCTSZ3U.js";import{a as V,l as H,m as L,n as $}from"./chunk-EPGJXKQY.js";import"./chunk-WXI33M2S.js";import"./chunk-WSSWXG6I.js";import{a as R,b as U,g as A,h as J,i as S}from"./chunk-W2GDRTPK.js";import{Ac as F,Ec as N,Gb as c,Hb as P,Ib as _,La as m,Oa as n,Pa as u,ba as y,ca as b,cb as g,e as M,ga as w,gb as r,la as I,lb as a,ma as x,mb as o,nb as p,rb as E,ta as T,ua as O,ub as f,wb as l,xc as z,yc as B,zc as j}from"./chunk-NLIUBASE.js";var v=class t{constructor(i){this.http=i}url="https://rolz.org/api/";ObtenerDado(i){let e=`${this.url}?${i}.json`;return this.http.get(e)}static \u0275fac=function(e){return new(e||t)(w(R))};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})};function W(t,i){if(t&1&&(a(0,"div",17),c(1),o()),t&2){let e=l();n(),P(e.usuario)}}function X(t,i){if(t&1&&p(0,"img",18),t&2){let e=l();r("src",e.imagen1,m)}}function Y(t,i){if(t&1&&(a(0,"div"),p(1,"img",18),o()),t&2){let e=l(2);n(),r("src",e.imagen1,m)}}function Z(t,i){if(t&1&&(a(0,"div"),p(1,"img",18),o()),t&2){let e=l(2);n(),r("src",e.imagen2,m)}}function tt(t,i){if(t&1&&(a(0,"div"),p(1,"img",18),o()),t&2){let e=l(2);n(),r("src",e.imagen3,m)}}function et(t,i){if(t&1&&(a(0,"div"),p(1,"img",18),o()),t&2){let e=l(2);n(),r("src",e.imagen4,m)}}function it(t,i){if(t&1&&(a(0,"div"),p(1,"img",18),o()),t&2){let e=l(2);n(),r("src",e.imagen5,m)}}function nt(t,i){if(t&1&&(a(0,"div"),p(1,"img",18),o()),t&2){let e=l(2);n(),r("src",e.imagen6,m)}}function ot(t,i){if(t&1&&(a(0,"div",19),g(1,Y,2,1,"div",20)(2,Z,2,1,"div",20)(3,tt,2,1,"div",20)(4,et,2,1,"div",20)(5,it,2,1,"div",20)(6,nt,2,1,"div",20),o()),t&2){let e=l();r("ngSwitch",e.valorDelDado),n(),r("ngSwitchCase",1),n(),r("ngSwitchCase",2),n(),r("ngSwitchCase",3),n(),r("ngSwitchCase",4),n(),r("ngSwitchCase",5),n(),r("ngSwitchCase",6)}}function rt(t,i){if(t&1){let e=E();a(0,"button",21),f("click",function(){let d=T(e).$implicit,k=l();return O(k.CompararDado(d))}),c(1),o()}if(t&2){let e=i.$implicit,s=l();r("disabled",s.blockearBotones),n(),_(" ",e," ")}}var h=class t{constructor(i,e,s,d,k){this.storageService=i;this.servicio=e;this.router=s;this.auth=d;this.snackBar=k}botones=["1","2","3","4","5","6"];dadoMostrado=0;dadoTraido;valorSeleccionado="";valorDelDado=0;intentos=10;puntos=0;blockearBotones=!1;mostrarDado=!1;mostrarTooltip=!1;blockearJugarDeNuevo=!0;usuario="";imagen1=null;imagen2=null;imagen3=null;imagen4=null;imagen5=null;imagen6=null;ngOnInit(){return M(this,null,function*(){this.LanzarDado(),this.auth.getUserEmail().subscribe(i=>{this.usuario=i}),this.imagen1=yield this.obtenerImagen("1.png"),this.imagen2=yield this.obtenerImagen("2.png"),this.imagen3=yield this.obtenerImagen("3.png"),this.imagen4=yield this.obtenerImagen("4.png"),this.imagen5=yield this.obtenerImagen("5.png"),this.imagen6=yield this.obtenerImagen("6.png")})}CerrarSession(){this.auth.logout(),this.AbrirSnackBar("Se a cerrado la sesion")}mostrarTexto(){this.mostrarTooltip=!0}ocultarTexto(){this.mostrarTooltip=!1}AbrirSnackBar(i){this.snackBar.open(i,"Cerrar",{duration:2e3,panelClass:["my-snackbar"]})}LanzarDado(){this.servicio.ObtenerDado("d6").subscribe(i=>{this.dadoTraido=i,this.valorDelDado=this.dadoTraido.result,this.mostrarDado=!1})}CompararDado(i){this.valorSeleccionado=i,this.valorDelDado.toString()===this.valorSeleccionado?(this.intentos--,this.puntos++,this.AbrirSnackBar(`Se lanzo un ${this.valorDelDado}`)):(this.intentos--,this.AbrirSnackBar(`Se lanzo un ${this.valorDelDado}`)),this.EstadoDelJuego(),setTimeout(()=>{this.LanzarDado(),this.mostrarDado=!1,this.blockearBotones=!1},2e3),this.blockearBotones=!0,this.mostrarDado=!0}EstadoDelJuego(){this.intentos==0&&setTimeout(()=>{this.AbrirSnackBar(`Obtuviste ${this.puntos} Puntos`),this.blockearJugarDeNuevo=!1,this.mostrarDado=!1,this.blockearBotones=!0},2010)}Volver(){this.RuteoHome()}RuteoHome(){this.router.navigate(["/Home"])}ReiniciarJuego(){this.intentos=10,this.puntos=0,this.mostrarDado=!1,this.blockearBotones=!1,this.blockearJugarDeNuevo=!0}obtenerImagen(i){return new Promise((e,s)=>{this.storageService.getImageUrl(i).subscribe({next:d=>e(d),error:d=>{console.error("Error al obtener la URL de la imagen:",d),e("")}})})}static \u0275fac=function(e){return new(e||t)(u(G),u(v),u(A),u(V),u($))};static \u0275cmp=I({type:t,selectors:[["app-dado"]],decls:27,vars:7,consts:[[1,"button-grid"],["mat-raised-button","",3,"click"],["mat-raised-button","","routerLink","/chat"],["mat-raised-button","","routerLink","/quien-soy"],["mat-raised-button","","color","warn",3,"click"],[1,"material-icons",3,"mouseover","mouseleave"],["class","tooltip",4,"ngIf"],[1,"container"],[1,"dadoMuestra"],[3,"src",4,"ngIf"],["class","dado",3,"ngSwitch",4,"ngIf"],[1,"botones"],["mat-raised-button","","color","accent",3,"disabled","click",4,"ngFor","ngForOf"],[1,"sidebar"],[1,"puntos"],[1,"intentos"],["mat-raised-button","","color","primary",1,"reintentar",3,"click","disabled"],[1,"tooltip"],[3,"src"],[1,"dado",3,"ngSwitch"],[4,"ngSwitchCase"],["mat-raised-button","","color","accent",3,"click","disabled"]],template:function(e,s){e&1&&(a(0,"div",0)(1,"button",1),f("click",function(){return s.Volver()}),c(2,"Volver"),o(),a(3,"button",2),c(4,"Chat"),o(),a(5,"button",3),c(6,"Sobre M\xED"),o(),a(7,"button",4),f("click",function(){return s.CerrarSession()}),c(8,"Cerrar Sesi\xF3n"),o(),a(9,"i",5),f("mouseover",function(){return s.mostrarTexto()})("mouseleave",function(){return s.ocultarTexto()}),c(10,"account_circle"),o(),g(11,W,2,1,"div",6),o(),a(12,"div",7)(13,"h1"),c(14,"Adivina que Valor de Dado Va a salir"),o(),a(15,"div",8),g(16,X,1,1,"img",9),o(),g(17,ot,7,7,"div",10),a(18,"div",11),g(19,rt,2,2,"button",12),o(),a(20,"div",13)(21,"p",14),c(22),o(),a(23,"p",15),c(24),o()(),a(25,"button",16),f("click",function(){return s.ReiniciarJuego()}),c(26,"Volver a Jugar"),o()()),e&2&&(n(11),r("ngIf",s.mostrarTooltip),n(5),r("ngIf",!s.mostrarDado),n(),r("ngIf",s.mostrarDado),n(2),r("ngForOf",s.botones),n(3),_("Puntos: ",s.puntos,""),n(2),_("Intentos: ",s.intentos,""),n(),r("disabled",s.blockearJugarDeNuevo))},dependencies:[z,B,j,F,J,H],styles:[".button-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;background-color:#ffffff80;padding:10px;display:flex;justify-content:flex-end}.button-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;margin-bottom:10px;padding:20px 30px;font-size:20px}.content[_ngcontent-%COMP%]{padding-top:50px}.material-icons[_ngcontent-%COMP%]{margin-left:10px;margin-top:2px;font-size:40px}.container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#ffffff80;padding:20px;border-radius:10px;text-align:center}.botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:10px;padding:30px 40px;font-size:30px}.dado[_ngcontent-%COMP%]{padding:20px;border-radius:10px;text-align:center}.dado[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px}.dadoMuestra[_ngcontent-%COMP%]{padding:20px;border-radius:10px;text-align:center}.dadoMuestra[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px}.reintentar[_ngcontent-%COMP%]{margin-top:10px;display:block;padding:20px 30px;font-size:20px;border:none;border-radius:5px;cursor:pointer;text-align:center;line-height:0}.sidebar[_ngcontent-%COMP%]{width:100%}.intentos[_ngcontent-%COMP%]{color:#fff;background-color:#ff000080;border-radius:20px;padding:10px 20px;font-size:18px;text-align:left}.puntos[_ngcontent-%COMP%]{color:#fff;background-color:#0000ff80;border-radius:20px;padding:10px 20px;font-size:18px;text-align:left}.tooltip[_ngcontent-%COMP%]{position:absolute;background-color:#fff;color:#000;padding:5px;border-radius:3px;z-index:9999;margin-top:60px;font-size:20px}"]})};var at=[{path:"",component:h}],C=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=x({type:t});static \u0275inj=b({imports:[S.forChild(at),S]})};var K=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=x({type:t});static \u0275inj=b({providers:[v],imports:[N,C,U,L,q]})};export{K as DadoModule};
